#include <windows.h>

char code[]={0x55
	,0x8B,0xEC
	,0x83,0xEC,0x1C
	,0xC6,0x45,0xE9,0x75
	,0xC6,0x45,0xEA,0x73
	,0xC6,0x45,0xEB,0x65
	,0xC6,0x45,0xEC,0x72
	,0xC6,0x45,0xED,0x33
	,0xC6,0x45,0xEE,0x32
	,0xC6,0x45,0xEF,0x2E
	,0xC6,0x45,0xF0,0x64
	,0xC6,0x45,0xF1,0x6C
	,0xC6,0x45,0xF2,0x6C
	,0xC6,0x45,0xF3,0x00
	,0x8D,0x45,0xE9
	,0x50
	,0xE8,0x3F,0x9D,0x3F,0x7C
	,0x83,0xC4,0x1C
	,0x5D
	,0x55
	,0x8B,0xEC
	,0x83,0xEC,0x1C
	,0xC6,0x45,0xE8,0x4D
	,0xC6,0x45,0xE9,0x65
	,0xC6,0x45,0xEA,0x73
	,0xC6,0x45,0xEB,0x73
	,0xC6,0x45,0xEC,0x61
	,0xC6,0x45,0xED,0x67
	,0xC6,0x45,0xEE,0x65
	,0xC6,0x45,0xEF,0x42
	,0xC6,0x45,0xF0,0x6F
	,0xC6,0x45,0xF1,0x78
	,0xC6,0x45,0xF2,0x41
	,0xC6,0x45,0xF3,0x00
	,0x8D,0x4D,0xE8
	,0x51
	,0x50
	,0xE8,0xC0,0x2D,0x40,0x7C
	,0x83,0xC4,0x1C
	,0x5D
	,0x55
	,0x8B,0xEC
	,0x83,0xEC,0x1C
	,0xC6,0x45,0xE8,0x49
	,0xC6,0x45,0xE9,0x27
	,0xC6,0x45,0xEA,0x6D
	,0xC6,0x45,0xEB,0x20
	,0xC6,0x45,0xEC,0x68
	,0xC6,0x45,0xED,0x61
	,0xC6,0x45,0xEE,0x63
	,0xC6,0x45,0xEF,0x6B
	,0xC6,0x45,0xF0,0x65
	,0xC6,0x45,0xF1,0x64
	,0xC6,0x45,0xF2,0x21
	,0xC6,0x45,0xF3,0x00
	,0x8D,0x4D,0xE8
	,0x6A,0x00
	,0x51
	,0x51
	,0x6A,0x00
	,0xFF,0xD0
	,0x83,0xC4,0x1C
	,0x5D
	,0xC3
};

__declspec(naked) void main()
{
	int op;
    VirtualProtect(&code[0], sizeof(code), PAGE_EXECUTE_READWRITE, &op);
	
	__asm{
	   call offset code
	}
} 